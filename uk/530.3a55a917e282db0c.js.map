{"version":3,"file":"530.3a55a917e282db0c.js","mappings":"uRASIA,0CAEEA,4BAAmC,gEAIrCA,qBAIC,aAJDA,CAIC,oBAJDA,CAIC,sBAG2CA,SAAgBA,UAGxDA,4BAAkB,SACSA,SAAeA,wCAJFA,wBAIbA,oFAK/BA,0CAEEA,4BAAmC,+EA/BzCA,yCAGEA,0DAAUA,6BAAoB,GAG9BA,iBACEA,gCAMAA,2BAgBAA,gCAKFA,kCAhCAA,6BAMKA,kDAMwBA,0CAgBxBA,mJAQLA,kBACEA,kCAQFA,wCAPIA,0BAAe,wCC5Bf,MAAOC,UAAuBC,KAOlCC,YACEC,EACAC,EACiBC,GAEjBC,MAAMH,EAAMC,GAFKG,kBARVA,cAAW,IAEXA,oBAAiC,EAAhBA,KAAKC,SACtBD,iBAAc,4CAQvB,CAESE,WACP,MAAMC,EAAsBC,KAAKC,MAAML,KAAKF,WAAWQ,cAAcC,aAAeP,KAAKC,UACzFD,KAAKQ,SAAiC,EAAtBL,EAEhBJ,MAAMG,UACR,CAACO,kDApBUhB,GAAciB,4EAAdjB,EAAckB,6pBDd3BnB,gBAAsBA,iBAAKA,QAE3BA,+CAqCAA,qJElCA,MAAMoB,EAAiB,CACrB,CACEC,KAAM,GACNC,UAAWrB,IAQT,MAAOsB,EAAkBN,kDAAlBM,EAAkB,sCAAlBA,IAAkBN,wCAHnBO,cAAsBJ,GACtBI,QCQN,MAAOC,EAAWR,kDAAXQ,EAAW,sCAAXA,IAAWR,wCATpBS,KACAC,KACAC,KACAC,KACAN,EACAO","names":["i0","PostsComponent","InfiniteScrollComponent","constructor","http","cdr","elementRef","super","this","itemSize","ngOnInit","maxItemsPerViewport","Math","floor","nativeElement","offsetHeight","pageSize","static","core","selectors","routes","path","component","PostsRoutingModule","RouterModule","PostsModule","CommonModule","MatCardModule","ScrollingModule","PlatformShieldModule","NgxSkeletonLoaderModule"],"sourceRoot":"webpack:///","sources":["./libs/demo/src/lib/posts/posts.component.html","./libs/demo/src/lib/posts/posts.component.ts","./libs/demo/src/lib/posts/posts-routing.module.ts","./libs/demo/src/lib/posts/posts.module.ts"],"sourcesContent":["<h1 class=\"pt-3 px-3\">Posts</h1>\n\n<cdk-virtual-scroll-viewport\n  *browserRender\n  [itemSize]=\"itemSize\"\n  (scroll)=\"scrollStream$.next()\"\n  class=\"limit-virtual-scroll-inline-size block-100\"\n>\n  <div class=\"pb-3\">\n    <ng-container\n      *ngIf=\"loading && !items.length\"\n      [ngTemplateOutlet]=\"skeletonLoader\"\n      [ngTemplateOutletContext]=\"{ count: 5 }\"\n    ></ng-container>\n\n    <article\n      *cdkVirtualFor=\"let post of items\"\n      role=\"presentation\"\n      class=\"px-3 pt-3\"\n    >\n      <mat-card>\n        <mat-card-header>\n          <mat-card-title class=\"text-ellipsis\">{{ post.title }}</mat-card-title>\n        </mat-card-header>\n\n        <mat-card-content>\n          <p class=\"text-ellipsis\">{{ post.body }}</p>\n        </mat-card-content>\n      </mat-card>\n    </article>\n\n    <ng-container\n      *ngIf=\"canLoadMore && items.length\"\n      [ngTemplateOutlet]=\"skeletonLoader\"\n      [ngTemplateOutletContext]=\"{ count: 1 }\"\n    ></ng-container>\n  </div>\n</cdk-virtual-scroll-viewport>\n\n<ng-template #skeletonLoader let-count=\"count\">\n  <div class=\"px-3\">\n    <ngx-skeleton-loader\n      [count]=\"count\"\n      animation=\"pulse\"\n      [theme]=\"{\n        'block-size': (itemSize - 20) + 'px',\n        'margin-block': '16px 0'\n      }\"\n    ></ngx-skeleton-loader>\n  </div>\n</ng-template>\n","import { HttpClient } from '@angular/common/http';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, OnInit } from '@angular/core';\n\nimport { Post } from '@playground/domain';\nimport { InfiniteScrollComponent } from '@playground/shared';\n\n@Component({\n  selector: 'playground-posts',\n  templateUrl: './posts.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    class: 'full-size d-flex flex-column'\n  }\n})\nexport class PostsComponent extends InfiniteScrollComponent<Post> implements OnInit {\n\n  readonly itemSize = 115;\n\n  override loadMoreMargin = this.itemSize * 4;\n  override resourceUrl = 'https://jsonplaceholder.typicode.com/posts';\n\n  constructor(\n    http: HttpClient,\n    cdr: ChangeDetectorRef,\n    private readonly elementRef: ElementRef<HTMLElement>,\n  ) {\n    super(http, cdr);\n  }\n\n  override ngOnInit(): void {\n    const maxItemsPerViewport = Math.floor(this.elementRef.nativeElement.offsetHeight / this.itemSize);\n    this.pageSize = maxItemsPerViewport * 2;\n\n    super.ngOnInit();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { PostsComponent } from './posts.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PostsComponent,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PostsRoutingModule { }\n","import { ScrollingModule } from '@angular/cdk/scrolling';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatCardModule } from '@angular/material/card';\nimport { NgxSkeletonLoaderModule } from 'ngx-skeleton-loader';\n\nimport { PlatformShieldModule } from '@playground/shared';\n\nimport { PostsRoutingModule } from './posts-routing.module';\nimport { PostsComponent } from './posts.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatCardModule,\n    ScrollingModule,\n    PlatformShieldModule,\n    PostsRoutingModule,\n    NgxSkeletonLoaderModule,\n  ],\n  declarations: [PostsComponent],\n})\nexport class PostsModule {}\n"],"x_google_ignoreList":[]}