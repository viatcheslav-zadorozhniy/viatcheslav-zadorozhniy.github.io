"use strict";(self.webpackChunki18n=self.webpackChunki18n||[]).push([[115],{6115:(A,c,n)=>{n.r(c),n.d(c,{PaymentsModule:()=>r});var u=n(4666),p=n(4522),m=n(5074),l=n(1267),d=n(2965),y=n(3918),t=n(2560),f=n(5364);function g(h,a){if(1&h&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&h){const e=t.oxw();t.xp6(1),t.Oqu(e.donationStatusMessage)}}class s{constructor(a,e){this.cdr=a,this.platformShield=e,this.paymentNetworks=["amex","jcb","visa","maestro","mastercard"]}makeDonation(){var a=this;return(0,y.Z)(function*(){if("PaymentRequest"in a.platformShield.nativeWindow)try{const e=new PaymentRequest(a.getPaymentMethods(),a.getPaymentDetails());(yield e.canMakePayment())||a.setDonationStatusMessage("The payment can not proceed."),a.makePayment(e)}catch(e){a.setDonationStatusMessage((e||"").toString())}else a.setDonationStatusMessage("Your browser/device does not support Web Payments API.")})()}getGooglePaymentDataRequest(){return{environment:"TEST",apiVersion:2,apiVersionMinor:0,merchantInfo:{merchantName:"Example Merchant"},allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["AMEX","DISCOVER","INTERAC","JCB","MASTERCARD","VISA"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"example",gatewayMerchantId:"exampleGatewayMerchantId"}}}]}}getPaymentMethods(){return[{supportedMethods:"https://google.com/pay",data:this.getGooglePaymentDataRequest()},{supportedMethods:"basic-card",data:{supportedNetworks:this.paymentNetworks}},{supportedMethods:"https://apple.com/apple-pay",data:{version:2,supportedNetworks:this.paymentNetworks,countryCode:"UK",merchantIdentifier:"viatcheslav-zadorozhniy",merchantCapabilities:["supportsDebit","supportsCredit","supports3DS"]}}]}getPaymentDetails(){return{total:{label:"Donation",amount:{currency:"USD",value:"10.00"}},displayItems:[{label:"Original donation amount",amount:{currency:"USD",value:"15.00"}},{label:"Friends and family discount",amount:{currency:"USD",value:"-5.00"}}]}}setDonationStatusMessage(a){this.donationStatusMessage=a,this.cdr.markForCheck()}makePayment(a){var e=this;return(0,y.Z)(function*(){const o=yield a.show();setTimeout(()=>{o.complete("success"),e.setDonationStatusMessage("Your donation was sent successfully.")},1e3)})()}static#t=this.\u0275fac=function(e){return new(e||s)(t.Y36(t.sBO),t.Y36(f.tY))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["playground-payments"]],hostAttrs:[1,"full-size","p-3","overflow-auto"],decls:34,vars:1,consts:[[1,"mb-5"],[1,"d-flex","flex-wrap","align-items-center","gap-2"],["type","button","mat-raised-button","","color","primary",3,"click"],["class","mt-2",4,"ngIf"],[1,"mb-3"],[1,"d-flex","flex-wrap","gap-2"],["matInput","","type","text","name","name","autocomplete","cc-name"],["matInput","","type","text","pattern","[0-9]+","name","card-number","inputmode","numeric","autocomplete","cc-number"],["matInput","","type","text","name","expiry-date","autocomplete","cc-exp","placeholder","MM/YY","minlength","4","pattern","[0-9/]+"],["matInput","","type","text","name","security-code","inputmode","numeric","minlength","3","maxlength","4","pattern","[0-9]+"],["type","button","mat-raised-button","","color","primary"],[1,"mt-2"]],template:function(e,o){1&e&&(t.TgZ(0,"h2"),t._uU(1,"Payments"),t.qZA(),t.TgZ(2,"section",0)(3,"h3"),t._uU(4,"Payment request dialog"),t.qZA(),t.TgZ(5,"div",1)(6,"button",2),t.NdJ("click",function(){return o.makeDonation()}),t._uU(7,"Make a donation"),t.qZA(),t.TgZ(8,"div"),t._uU(9,"(demo only, no actual payment is processed)"),t.qZA()(),t.YNc(10,g,2,1,"div",3),t.qZA(),t.TgZ(11,"form",4)(12,"h3"),t._uU(13,"Credit card payment"),t.qZA(),t.TgZ(14,"div",5)(15,"mat-form-field")(16,"mat-label"),t._uU(17,"Name on card"),t.qZA(),t._UZ(18,"input",6),t.qZA(),t.TgZ(19,"mat-form-field")(20,"mat-label"),t._uU(21,"Card number"),t.qZA(),t._UZ(22,"input",7),t.qZA()(),t.TgZ(23,"div",5)(24,"mat-form-field")(25,"mat-label"),t._uU(26,"Expiry date"),t.qZA(),t._UZ(27,"input",8),t.qZA(),t.TgZ(28,"mat-form-field")(29,"mat-label"),t._uU(30,"Security code"),t.qZA(),t._UZ(31,"input",9),t.qZA()(),t.TgZ(32,"button",10),t._uU(33,"Pay $300.00"),t.qZA()()),2&e&&(t.xp6(10),t.Q6J("ngIf",!!o.donationStatusMessage))},dependencies:[u.O5,l.Nt,m.KE,m.hX,p.lW],changeDetection:0})}const Z=[{path:"",component:s}];class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=t.oAB({type:i});static#a=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(Z),d.Bz]})}class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#e=this.\u0275mod=t.oAB({type:r});static#a=this.\u0275inj=t.cJS({imports:[u.ez,l.c,p.ot,m.lN,i]})}}}]);
//# sourceMappingURL=115.2961897fbb51c9a1.js.map