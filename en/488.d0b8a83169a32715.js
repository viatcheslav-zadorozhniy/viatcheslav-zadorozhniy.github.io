"use strict";(self.webpackChunki18n=self.webpackChunki18n||[]).push([[488],{488:(_,a,r)=>{r.r(a),r.d(a,{GalleryModule:()=>G});var n=r(5744),c=r(4666),u=r(9707),d=r(4665),p=r(2965),m=r(9683),t=r(2560),h=r(8987),g=r(5924);function f(e,i){if(1&e&&(t.TgZ(0,"div",8),t._UZ(1,"img",9),t.TgZ(2,"div",10),t._uU(3),t.qZA()()),2&e){const o=i.$implicit,l=t.oxw(3);t.xp6(1),t.Q6J("src",o.thumbnailUrl,t.LSH)("alt",o.title)("height",l.imgSize)("width",l.imgSize),t.xp6(2),t.Oqu(o.id)}}function v(e,i){if(1&e&&(t.TgZ(0,"div",6),t.YNc(1,f,4,5,"div",7),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Q6J("ngForOf",o)}}function x(e,i){1&e&&t._UZ(0,"div",11)}function y(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"cdk-virtual-scroll-viewport",2),t.NdJ("scroll",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.scrollStream$.next())}),t.TgZ(1,"div",3),t.YNc(2,v,2,1,"div",4),t.YNc(3,x,1,0,"div",5),t.qZA()()}if(2&e){const o=t.oxw();t.Q6J("itemSize",o.itemSize),t.xp6(2),t.Q6J("cdkVirtualForOf",o.groupedItems),t.xp6(1),t.Q6J("ngIf",o.canLoadMore)}}const S=[{path:"",component:(()=>{class e extends m.w{constructor(o,l,s){super(o,l),this.elementRef=s,this.groupedItems=[],this.rowGap=16,this.imgSize=150,this.itemSize=this.imgSize+this.rowGap,this.pageSize=32,this.loadMoreMargin=2*this.itemSize,this.resourceUrl="https://jsonplaceholder.typicode.com/photos",this.groupSize=8}ngOnInit(){const o=Math.floor(this.elementRef.nativeElement.offsetHeight/this.itemSize);this.groupSize=this.calcGroupSize(),this.pageSize=this.groupSize*(2*o),super.ngOnInit()}onAfterItemsAdded(o){let l=this.groupedItems[this.groupedItems.length-1]||[];this.groupedItems.length?l.length===this.groupSize&&(l=[],this.groupedItems.push(l)):this.groupedItems.push(l),o.forEach(s=>{l.push(s),l.length===this.groupSize&&(l=[],this.groupedItems.push(l))}),this.groupedItems=[...this.groupedItems]}calcGroupSize(){return Math.floor((this.elementRef.nativeElement.offsetWidth-this.rowGap)/this.itemSize)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h.eN),t.Y36(t.sBO),t.Y36(t.SBq))},e.\u0275cmp=t.Xpm({type:e,selectors:[["playground-gallery"]],hostAttrs:[1,"full-size","d-flex","flex-column"],features:[t.qOj],decls:3,vars:0,consts:[[1,"pt-3","px-3","text-center"],["class","block-100",3,"itemSize","scroll",4,"browserRender"],[1,"block-100",3,"itemSize","scroll"],[1,"d-flex","flex-column","mx-auto","pb-3"],["class","d-flex column-gap-3 pt-3 mx-auto",4,"cdkVirtualFor","cdkVirtualForOf"],["class","loader",4,"ngIf"],[1,"d-flex","column-gap-3","pt-3","mx-auto"],["class","position-relative",4,"ngFor","ngForOf"],[1,"position-relative"],[1,"d-block",3,"src","alt","height","width"],[1,"position-absolute","photo-id"],[1,"loader"]],template:function(o,l){1&o&&(t.TgZ(0,"h1",0),t._uU(1,"Gallery"),t.qZA(),t.YNc(2,y,4,3,"cdk-virtual-scroll-viewport",1))},dependencies:[c.sg,c.O5,n.xd,n.x0,n.N7,g.n],styles:[".photo-id[_ngcontent-%COMP%]{inset-block-start:5px;inset-inline-start:5px}"],changeDetection:0}),e})()}];let z=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(S),p.Bz]}),e})(),G=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,n.Cl,d.s,z,u.hx]}),e})()}}]);
//# sourceMappingURL=488.d0b8a83169a32715.js.map