"use strict";(self.webpackChunki18n=self.webpackChunki18n||[]).push([[115],{6115:(P,i,o)=>{o.r(i),o.d(i,{PaymentsModule:()=>M});var u=o(4666),l=o(4522),m=o(4304),c=o(1267),p=o(8835),d=o(3918),t=o(2560),y=o(7157);function h(a,s){if(1&a&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Oqu(e.donationStatusMessage)}}const f=[{path:"",component:(()=>{class a{constructor(e,n){this.cdr=e,this.platformShield=n,this.paymentNetworks=["amex","jcb","visa","maestro","mastercard"]}makeDonation(){var e=this;return(0,d.Z)(function*(){if("PaymentRequest"in e.platformShield.nativeWindow)try{const n=new PaymentRequest(e.getPaymentMethods(),e.getPaymentDetails());(yield n.canMakePayment())||e.setDonationStatusMessage("The payment can not proceed."),e.makePayment(n)}catch(n){e.setDonationStatusMessage((n||"").toString())}else e.setDonationStatusMessage("Your browser/device does not support Web Payments API.")})()}getGooglePaymentDataRequest(){return{environment:"TEST",apiVersion:2,apiVersionMinor:0,merchantInfo:{merchantName:"Example Merchant"},allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["AMEX","DISCOVER","INTERAC","JCB","MASTERCARD","VISA"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"example",gatewayMerchantId:"exampleGatewayMerchantId"}}}]}}getPaymentMethods(){return[{supportedMethods:"https://google.com/pay",data:this.getGooglePaymentDataRequest()},{supportedMethods:"basic-card",data:{supportedNetworks:this.paymentNetworks}},{supportedMethods:"https://apple.com/apple-pay",data:{version:2,supportedNetworks:this.paymentNetworks,countryCode:"UK",merchantIdentifier:"viatcheslav-zadorozhniy",merchantCapabilities:["supportsDebit","supportsCredit","supports3DS"]}}]}getPaymentDetails(){return{total:{label:"Donation",amount:{currency:"USD",value:"10.00"}},displayItems:[{label:"Original donation amount",amount:{currency:"USD",value:"15.00"}},{label:"Friends and family discount",amount:{currency:"USD",value:"-5.00"}}]}}setDonationStatusMessage(e){this.donationStatusMessage=e,this.cdr.markForCheck()}makePayment(e){var n=this;return(0,d.Z)(function*(){const r=yield e.show();setTimeout(()=>{r.complete("success"),n.setDonationStatusMessage("Your donation was sent successfully.")},1e3)})()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(t.sBO),t.Y36(y.t))},a.\u0275cmp=t.Xpm({type:a,selectors:[["playground-payments"]],hostAttrs:[1,"full-size","p-3","overflow-auto"],decls:38,vars:1,consts:[[1,"mb-5"],[1,"d-flex","flex-wrap","align-items-center","gap-2"],["type","button","mat-raised-button","","color","primary",3,"click"],["class","mt-2",4,"ngIf"],[1,"mb-3"],[1,"d-flex","flex-wrap","gap-2"],[1,"overflow-hidden"],["matInput","","type","text","name","name","autocomplete","cc-name"],["matInput","","type","text","pattern","[0-9]+","name","card-number","inputmode","numeric","autocomplete","cc-number"],["matInput","","type","text","name","expiry-date","autocomplete","cc-exp","placeholder","MM/YY","minlength","4","pattern","[0-9/]+"],["matInput","","type","text","name","security-code","inputmode","numeric","minlength","3","maxlength","4","pattern","[0-9]+"],["type","button","mat-raised-button","","color","primary"],[1,"mt-2"]],template:function(e,n){1&e&&(t.TgZ(0,"h2"),t._uU(1,"Payments"),t.qZA(),t.TgZ(2,"section",0)(3,"h3"),t._uU(4,"Payment request dialog"),t.qZA(),t.TgZ(5,"div",1)(6,"button",2),t.NdJ("click",function(){return n.makeDonation()}),t._uU(7,"Make a donation"),t.qZA(),t.TgZ(8,"div"),t._uU(9,"(demo only, no actual payment is processed)"),t.qZA()(),t.YNc(10,h,2,1,"div",3),t.qZA(),t.TgZ(11,"form",4)(12,"h3"),t._uU(13,"Credit card payment"),t.qZA(),t.TgZ(14,"div",5)(15,"div",6)(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Name on card"),t.qZA(),t._UZ(19,"input",7),t.qZA()(),t.TgZ(20,"div",6)(21,"mat-form-field")(22,"mat-label"),t._uU(23,"Card number"),t.qZA(),t._UZ(24,"input",8),t.qZA()()(),t.TgZ(25,"div",5)(26,"div",6)(27,"mat-form-field")(28,"mat-label"),t._uU(29,"Expiry date"),t.qZA(),t._UZ(30,"input",9),t.qZA()(),t.TgZ(31,"div",6)(32,"mat-form-field")(33,"mat-label"),t._uU(34,"Security code"),t.qZA(),t._UZ(35,"input",10),t.qZA()()(),t.TgZ(36,"button",11),t._uU(37,"Pay $300.00"),t.qZA()()),2&e&&(t.xp6(10),t.Q6J("ngIf",!!n.donationStatusMessage))},dependencies:[u.O5,m.KE,m.hX,c.Nt,l.lW],changeDetection:0}),a})()}];let g=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[p.Bz.forChild(f),p.Bz]}),a})(),M=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[u.ez,c.c,l.ot,m.lN,g]}),a})()}}]);
//# sourceMappingURL=115.a34290c86421b5ed.js.map