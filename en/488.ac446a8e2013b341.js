"use strict";(self.webpackChunki18n=self.webpackChunki18n||[]).push([[488],{488:(w,h,o)=>{o.r(h),o.d(h,{GalleryModule:()=>a});var r=o(5744),p=o(4666),m=o(9707),d=o(5364),u=o(2965),t=o(2560),g=o(8987),f=o(5924);function v(s,i){if(1&s&&(t.TgZ(0,"div",8),t._UZ(1,"img",9),t.TgZ(2,"div",10),t._uU(3),t.qZA()()),2&s){const e=i.$implicit,l=t.oxw(3);t.xp6(1),t.Q6J("src",e.thumbnailUrl,t.LSH)("alt",e.title)("height",l.imgSize)("width",l.imgSize),t.xp6(2),t.Oqu(e.id)}}function x(s,i){if(1&s&&(t.TgZ(0,"div",6),t.YNc(1,v,4,5,"div",7),t.qZA()),2&s){const e=i.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function S(s,i){1&s&&t._UZ(0,"div",11)}function z(s,i){if(1&s){const e=t.EpF();t.TgZ(0,"cdk-virtual-scroll-viewport",2),t.NdJ("scroll",function(){t.CHM(e);const y=t.oxw();return t.KtG(y.scrollStream$.next())}),t.TgZ(1,"div",3),t.YNc(2,x,2,1,"div",4),t.YNc(3,S,1,0,"div",5),t.qZA()()}if(2&s){const e=t.oxw();t.Q6J("itemSize",e.itemSize),t.xp6(2),t.Q6J("cdkVirtualForOf",e.groupedItems),t.xp6(1),t.Q6J("ngIf",e.canLoadMore)}}class n extends d.wt{constructor(i,e,l){super(i,e),this.elementRef=l,this.groupedItems=[],this.rowGap=16,this.imgSize=150,this.itemSize=this.imgSize+this.rowGap,this.pageSize=32,this.loadMoreMargin=2*this.itemSize,this.resourceUrl="https://jsonplaceholder.typicode.com/photos",this.groupSize=8}ngOnInit(){const i=Math.floor(this.elementRef.nativeElement.offsetHeight/this.itemSize);this.groupSize=this.calcGroupSize(),this.pageSize=this.groupSize*(2*i),super.ngOnInit()}onAfterItemsAdded(i){let e=this.groupedItems[this.groupedItems.length-1]||[];this.groupedItems.length?e.length===this.groupSize&&(e=[],this.groupedItems.push(e)):this.groupedItems.push(e),i.forEach(l=>{e.push(l),e.length===this.groupSize&&(e=[],this.groupedItems.push(e))}),this.groupedItems=[...this.groupedItems]}calcGroupSize(){return Math.floor((this.elementRef.nativeElement.offsetWidth-this.rowGap)/this.itemSize)}static#t=this.\u0275fac=function(e){return new(e||n)(t.Y36(g.eN),t.Y36(t.sBO),t.Y36(t.SBq))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["playground-gallery"]],hostAttrs:[1,"full-size","d-flex","flex-column"],features:[t.qOj],decls:3,vars:0,consts:[[1,"pt-3","px-3","text-center"],["class","block-100",3,"itemSize","scroll",4,"browserRender"],[1,"block-100",3,"itemSize","scroll"],[1,"d-flex","flex-column","mx-auto","pb-3"],["class","d-flex column-gap-3 pt-3 mx-auto",4,"cdkVirtualFor","cdkVirtualForOf"],["class","loader",4,"ngIf"],[1,"d-flex","column-gap-3","pt-3","mx-auto"],["class","position-relative",4,"ngFor","ngForOf"],[1,"position-relative"],[1,"d-block",3,"src","alt","height","width"],[1,"position-absolute","photo-id"],[1,"loader"]],template:function(e,l){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Gallery"),t.qZA(),t.YNc(2,z,4,3,"cdk-virtual-scroll-viewport",1))},dependencies:[p.sg,p.O5,r.xd,r.x0,r.N7,f.n],styles:[".photo-id[_ngcontent-%COMP%]{inset-block-start:5px;inset-inline-start:5px}"],changeDetection:0})}const _=[{path:"",component:n}];class c{static#t=this.\u0275fac=function(e){return new(e||c)};static#e=this.\u0275mod=t.oAB({type:c});static#i=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(_),u.Bz]})}class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275mod=t.oAB({type:a});static#i=this.\u0275inj=t.cJS({imports:[p.ez,r.Cl,d.sq,c,m.hx]})}}}]);
//# sourceMappingURL=488.ac446a8e2013b341.js.map